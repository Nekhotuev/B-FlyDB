@using Web.ViewModel
@model IEnumerable<AirportViewModel>

@{
    ViewBag.Title = "Airports";
}

@Scripts.Render("~/Scripts/jquery-ui")
@Styles.Render("~/Content/jquery-ui")

<div class="container-fluid">
    <div class="row">
        <div class="col-md-2">
            @Html.Partial("_SideBar")
        </div>
        <div class="col-md-10" id="bodycontent">
            <div class="row">
                <div class="col-md-12">
                    <h2>Airports</h2>
                </div>
            </div>
            <div class="row createButton">
                <div class="col-md-12">
                    <input type="button" class="btn btn-default" value="Create new" onclick="location.href = '@Url.Action("AirportCreate", "Classifiers")'" />
                </div>
            </div>
            @*add edit link method*@
            <div class="row createButton">
                <div class="col-md-2">
                    <input type="text" name="name" class="form-control" id="searchBox" data-autocomplete-source='@Url.Action("AirportSearch", "Classifiers")' />
                </div>
                <div class="col-md-2">
                    <input type="button" class="btn btn-default" value="Search" />
                    @*<input type="button" class="btn btn-default" value="Search" onclick="location.href = '@Url.Action("AirportEdit", "Classifiers", new {id = item.Id})'" />*@
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <table class="table table-bordered table-hover" id="linkedtable">
                        <tr>
                            <th>@Html.DisplayNameFor(model => model.Name)</th>
                            <th>@Html.DisplayNameFor(model => model.Code)</th>
                            <th>@Html.DisplayNameFor(model => model.City)</th>
                        </tr>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td class="linkedTableText" onclick="location.href = '@Url.Action("AirportEdit", "Classifiers", new {id = item.Id})'">
                                    @Html.DisplayFor(modelItem => item.Name)
                                </td>
                                <td class="linkedTableText" onclick="location.href = '@Url.Action("AirportEdit", "Classifiers", new {id = item.Id})'">
                                    @Html.DisplayFor(modelItem => item.Code)
                                </td>
                                <td class="linkedTableText" onclick="location.href = '@Url.Action("AirportEdit", "Classifiers", new {id = item.Id})'">
                                    @Html.DisplayFor(modelItem => item.City.Name)
                                </td>
                            </tr>
                        }
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

@*script get names from controllers method*@
<script>
    $(function () {
        $("[data-autocomplete-source]").each(function () {
            var target = $(this);
            target.autocomplete({ source: target.attr("data-autocomplete-source") });
        });
    });
</script>